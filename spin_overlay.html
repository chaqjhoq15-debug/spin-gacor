<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Spin Overlay</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: transparent;
    }

    #wheelCanvas {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }

    /* ðŸ”µ Tombol SPIN */
    #spinButton {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        padding: 12px 25px;
        background: #00c853;
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 22px;
        cursor: pointer;
        font-weight: bold;
        z-index: 9999;
    }
</style>
</head>
<body>

<canvas id="wheelCanvas" width="600" height="600"></canvas>

<button id="spinButton">SPIN</button>

<script>
const canvas = document.getElementById("wheelCanvas");
const ctx = canvas.getContext("2d");

const slices = [
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },
    { label: "MITOS", color: "#ff4d4d" },

    { label: "MITOS 5", color: "#b30000" },
    { label: "MITOS 5", color: "#b30000" },
    { label: "MITOS 5", color: "#b30000" },
    { label: "MITOS 5", color: "#b30000" },
    { label: "MITOS 5", color: "#b30000" },
    { label: "MITOS 5", color: "#b30000" },

    { label: "TUMBAL", color: "#00cc44" },
    { label: "TUMBAL 2", color: "#006622" }
];

const sliceCount = slices.length;
const angle = (2 * Math.PI) / sliceCount;
let rotation = 0;
let isSpinning = false;
let speed = 0;

function drawWheel() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    for (let i = 0; i < sliceCount; i++) {
        let start = i * angle + rotation;
        let end = start + angle;

        ctx.beginPath();
        ctx.moveTo(300, 300);
        ctx.arc(300, 300, 280, start, end);
        ctx.fillStyle = slices[i].color;
        ctx.fill();
        ctx.stroke();

        ctx.save();
        ctx.translate(300, 300);
        ctx.rotate(start + angle / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = "#fff";
        ctx.font = "20px Arial";
        ctx.fillText(slices[i].label, 260, 10);
        ctx.restore();
    }
}

function animate() {
    if (isSpinning) {
        rotation += speed;
        speed *= 0.985; 

        if (speed < 0.002) {
            isSpinning = false;
        }
    }
    drawWheel();
    requestAnimationFrame(animate);
}

document.getElementById("spinButton").onclick = function () {
    if (!isSpinning) {
        speed = 0.35 + Math.random() * 0.25;
        isSpinning = true;
    }
};

drawWheel();
animate();
</script>

</body>
</html>
